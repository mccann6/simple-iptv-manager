@page "/"
@attribute [StreamRendering]
@inject Services.IPlaylistService playlistService
@inject NavigationManager NavigationManager

<MudPaper Class="mt-4 pa-6">
    <MudPaper Class="mt-4 pa-6">
        <MudText Typo=Typo.h3>Simple IPTV Manager</MudText>
        <MudText>Welcome to Simple IPTV Manager</MudText>
        <MudText>This is an open source IPTV management software to help with large IPTV playlists along with their Program Guides</MudText>
    </MudPaper>
   
    <MudPaper Class="mt-4 pa-6">
        <MudText>Your playlists and program guides are available as: </MudText>
        <MudText>server_address/playlist/id/m3u</MudText>
        <MudText>server_address/playlist/id/epg</MudText>
        <MudText>
            eg.
            <MudList>
                <MudListItem>
                    <MudLink Href="@GetPlaylistLink()">@GetPlaylistLink()</MudLink>
                </MudListItem>
                <MudListItem>
                    <MudLink Href="@GetProgramGuideLink()">@GetProgramGuideLink()</MudLink>
                </MudListItem>
            </MudList>
        </MudText>
    </MudPaper>

    <MudPaper Class="mt-4 pa-6">
        <MudText>Add your first playlist using the PlaylistManager</MudText>
            <MudText>Once added, edit <MudIconButton Icon="@Icons.Material.Filled.Edit"></MudIconButton> the playlist</MudText>
            <MudText>Use the <i>Keep Only By Filter</i> to remove all Categories that do not contain the comma separated filter queries, eg. "UK|, US|, CA|"</MudText>
            <MudText>Manually remove any individually by clicking the <MudIconButton Icon="@Icons.Material.Filled.Delete"></MudIconButton></MudText>
            <MudText>Edit specific categories by clicking the <MudIconButton Icon="@Icons.Material.Filled.Edit"></MudIconButton></MudText>
            <MudText>Manually remove any specific channel individually by clicking the <MudIconButton Icon="@Icons.Material.Filled.Delete"></MudIconButton></MudText>
            <MudText>Edit channel ids for channels that are missing them and clicking <i>Save Channel Id Changes</i> so that the Program Guide will populate for those channels</MudText>
    </MudPaper>
</MudPaper>
@code{
    protected override async Task OnInitializedAsync()
    {

    }

    private string GetPlaylistLink()
    {
        return $"{NavigationManager.BaseUri}playlist/1/m3u";
    }

    private string GetProgramGuideLink()
    {
        return $"{NavigationManager.BaseUri}playlist/1/epg";
    }
}